"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1951],{1951:(P,b,_)=>{_.d(b,{k:()=>B});var l=_(5861),t=_(9212),C=_(4282),w=_(2014),h=_(878),f=_(7346),d=_(6814),u=_(95);function x(a,c){if(1&a){const s=t.EpF();t.TgZ(0,"ion-row",13)(1,"ion-col",14),t.NdJ("click",function(){const e=t.CHM(s),o=e.$implicit,i=e.index,r=t.oxw();return t.KtG(r.getitems1(o,i))}),t.TgZ(2,"ion-label"),t._uU(3),t.qZA()()()}if(2&a){const s=c.$implicit,n=c.index,e=t.oxw();t.Q6J("ngClass",e.ind1===n?"one":"two"),t.xp6(3),t.hij(" ",s,"")}}function v(a,c){if(1&a){const s=t.EpF();t.TgZ(0,"ion-row",17)(1,"ion-col",18)(2,"div",19)(3,"ion-checkbox",20),t.NdJ("ngModelChange",function(e){const i=t.CHM(s).$implicit;return t.KtG(i.status=e)})("ionChange",function(){const e=t.CHM(s),o=e.$implicit,i=e.index,r=t.oxw(2);return t.KtG(r.getitems(o,i))}),t.qZA(),t.TgZ(4,"div",21),t._uU(5),t.qZA()()()()}if(2&a){const s=c.$implicit;t.Q6J("ngClass",!0===s.status?"one":"two"),t.xp6(3),t.Q6J("ngModel",s.status),t.xp6(2),t.hij(" ",s.name,"")}}function M(a,c){if(1&a&&(t.TgZ(0,"div",15),t.YNc(1,v,6,3,"ion-row",16),t.qZA()),2&a){const s=t.oxw();t.xp6(),t.Q6J("ngForOf",s.branch)}}function T(a,c){if(1&a){const s=t.EpF();t.TgZ(0,"ion-row",17)(1,"ion-col",18)(2,"div",19)(3,"ion-checkbox",22),t.NdJ("ngModelChange",function(e){const i=t.CHM(s).$implicit;return t.KtG(i.status=e)}),t.qZA(),t.TgZ(4,"div",21),t._uU(5),t.qZA()()()()}if(2&a){const s=c.$implicit;t.Q6J("ngClass",!0===s.status?"one":"two"),t.xp6(3),t.Q6J("ngModel",s.status),t.xp6(2),t.hij(" ",s.name,"")}}function E(a,c){if(1&a&&(t.TgZ(0,"div",15),t.YNc(1,T,6,3,"ion-row",16),t.qZA()),2&a){const s=t.oxw();t.xp6(),t.Q6J("ngForOf",s.temp_branch)}}function k(a,c){if(1&a){const s=t.EpF();t.TgZ(0,"ion-row",17)(1,"ion-col",18)(2,"div",19)(3,"ion-checkbox",22),t.NdJ("ngModelChange",function(e){const i=t.CHM(s).$implicit;return t.KtG(i.status=e)}),t.qZA(),t.TgZ(4,"div",21),t._uU(5),t.qZA()()()()}if(2&a){const s=c.$implicit;t.Q6J("ngClass",!0===s.status?"one":"two"),t.xp6(3),t.Q6J("ngModel",s.status),t.xp6(2),t.hij(" ",s.metal," ")}}function Z(a,c){if(1&a&&(t.TgZ(0,"div",15),t.YNc(1,k,6,3,"ion-row",23),t.qZA()),2&a){const s=t.oxw();t.xp6(),t.Q6J("ngForOf",s.types)}}function O(a,c){if(1&a){const s=t.EpF();t.TgZ(0,"ion-row",25)(1,"ion-col",18)(2,"div",19)(3,"ion-checkbox",20),t.NdJ("ngModelChange",function(e){const i=t.CHM(s).$implicit;return t.KtG(i.status=e)})("ionChange",function(){const e=t.CHM(s),o=e.$implicit,i=e.index,r=t.oxw(2);return t.KtG(r.get1(o,i))}),t.qZA(),t.TgZ(4,"div",21),t._uU(5),t.qZA()()()()}if(2&a){const s=c.$implicit;t.xp6(3),t.Q6J("ngModel",s.status),t.xp6(2),t.hij(" ",s.name,"")}}function y(a,c){if(1&a&&(t.TgZ(0,"div",15),t.YNc(1,O,6,2,"ion-row",24),t.qZA()),2&a){const s=t.oxw();t.xp6(),t.Q6J("ngForOf",s.fin_metal)}}let B=(()=>{var a;class c{constructor(n,e,o,i,r,p){this.common=n,this.storage=e,this.modalCtrl=o,this.viewCtrl=i,this.navCtrl=r,this.navParams=p,this.branch=[],this.sebranch=[],this.types=[],this.branch_show=!0,this.metal_show=!1,this.types1=[],this.ind=0,this.ind1=0,this.select_metal=[],this.temp_branch=[],this.month_wise=!1,this.fin_metal=[]=[],this.fin_metal1=[]=[],this.select_branch={branch:[],metal:[]},this.category=["Branch","Metal"],this.selectedItemIndex=-1,this.get_coverupreport(),this.types1=this.types,console.log(this.empData,"data"),console.log(this.empData)}get_coverupreport(){var n=this;return(0,l.Z)(function*(){if(n.empData=JSON.parse(yield n.storage.get("empDetail")),console.log(n.empData,"j"),0!=n.empData.branch_id){let i=n.empData.branch_id.split(",");console.log(i);let r=[];i.forEach(p=>{let m=n.branch.filter(g=>g.id_branch==p);m.length>0&&r.push(m[0])}),n.branch=r,n.sebranch=r,console.log(r)}let e=n.navParams.get("data");n.fin=n.navParams.get("data"),console.log(e,"h"),console.log(n.fin.temp,"h"),n.get_branch(e),n.get_metal(e),n.get_metal1(e),"1"==e?n.branch_show=!0:"2"==e&&(n.metal_show=!0)})()}get_metal1(n){var e=this;this.common.metal().subscribe(function(){var o=(0,l.Z)(function*(i){e.fin_metal=i.responsedata,e.fin_metal1=i.responsedata,e.fin_metal.forEach((r,p)=>{r.status=!1,null!=n.metal&&n.metal.forEach((m,g)=>{m.id_metal==r.id_metal&&(r.status=!0)})}),0==n.metal.length&&(console.log(n.metal,"kk"),e.fin_metal[0].status=!0),console.log(e.fin_metal,"metal data")});return function(i){return o.apply(this,arguments)}}())}get_metal(n){var e=this;this.common.getmetal().subscribe(function(){var o=(0,l.Z)(function*(i){e.types=i.response_data,e.types1=i.response_data,e.types.forEach((r,p)=>{null!=n.metal&&n.metal.forEach((m,g)=>{m.id_metal==r.id_metal&&(r.status=!0)})}),console.log(e.types,"metal data")});return function(i){return o.apply(this,arguments)}}())}get_branch(n){var e=this;this.common.getbranch().subscribe(function(){var o=(0,l.Z)(function*(i){e.branch=i,22!=n.temp?(e.month_wise=!1,e.branch.forEach((r,p)=>{r.status=n.id_branch==r.id_branch})):(e.month_wise=!0,e.branch.splice(0,1),e.temp_branch=e.branch.slice(),e.temp_branch.forEach(0==n.id_branch[0]?(r,p)=>{r.status=!0}:(r,p)=>{n.id_branch.forEach((m,g)=>{m==r.id_branch&&(r.status=!0)})})),e.sebranch=i,console.log(e.branch,"branch data")});return function(i){return o.apply(this,arguments)}}())}ionViewDidLoad(){console.log("ionViewDidLoad BranchPage")}dismiss(){return this.modalCtrl.dismiss(null,"cancel")}selected(){return this.month_wise?this.temp_branch.forEach((n,e)=>{!0===n.status&&this.select_branch.branch.push(n)}):this.month_wise||this.branch.forEach((n,e)=>{!0===n.status&&this.select_branch.branch.push(n)}),23!=this.fin.temp?this.types.forEach((n,e)=>{!0===n.status&&this.select_branch.metal.push(n)}):23==this.fin.temp&&this.fin_metal.forEach((n,e)=>{!0===n.status&&this.select_branch.metal.push(n)}),console.log(this.select_branch,"select data"),0!=this.select_branch.branch.length?this.modalCtrl.dismiss(this.select_branch,"confirm"):(this.common.presentToast("please select the Branch"),0)}getCus(n){console.log(n.target.value),console.log(this.sebranch),console.log(this.types1),console.log(this.branch_show),this.branch_show?this.branch=this.sebranch.filter(e=>e.name.toUpperCase().includes(n.target.value.toUpperCase())):this.branch_show||23==this.fin.temp?!this.branch_show&&23==this.fin.temp&&(this.fin_metal=this.fin_metal1.filter(e=>e.name.toUpperCase().includes(n.target.value.toUpperCase()))):this.types=this.types1.filter(e=>e.metal.toUpperCase().includes(n.target.value.toUpperCase()))}ionViewWillEnter(){this.get_coverupreport()}ngOnInit(){var n=this;return(0,l.Z)(function*(){yield n.storage.create()})()}getitems(n,e){console.log("kkkkk",n,e),this.branch.forEach((o,i)=>{o.status=o.id_branch===n.id_branch})}get1(n,e){console.log("kkkkk",n,e),console.log(n,"h"),this.fin_metal.forEach((o,i)=>{o.status=o.id_metal===n.id_metal})}getitems1(n,e){console.log("kkkkk",n,e),"Branch"==n?(this.branch_show=!0,this.metal_show=!1,this.ind1=e):"Metal"==n&&(this.branch_show=!1,this.metal_show=!0,this.ind1=e)}handleCheckboxChange(n,e){this.types.forEach((o,i)=>{i!==e&&(o.status=!1)}),this.getitems(n,e)}clear(){var n=this;this.common.getmetal().subscribe(function(){var e=(0,l.Z)(function*(o){n.types=o.response_data,n.types1=o.response_data,n.types.forEach((i,r)=>{i.status=!1}),console.log(n.types,"metal data")});return function(o){return e.apply(this,arguments)}}()),this.common.getbranch().subscribe(function(){var e=(0,l.Z)(function*(o){n.branch=o,n.branch.forEach((i,r)=>{i.status=!1}),n.temp_branch.forEach((i,r)=>{i.status=!1}),n.sebranch=o,console.log(n.branch,"branch data")});return function(o){return e.apply(this,arguments)}}()),this.common.metal().subscribe(function(){var e=(0,l.Z)(function*(o){n.fin_metal=o.responsedata,n.fin_metal1=o.responsedata,n.fin_metal.forEach((i,r)=>{i.status=!1}),console.log(n.fin_metal,"metal data")});return function(o){return e.apply(this,arguments)}}())}onCheckboxChange(n,e){console.log(n,e,"k")}}return(a=c).\u0275fac=function(n){return new(n||a)(t.Y36(C.l),t.Y36(w.K),t.Y36(h.IN),t.Y36(f.SH),t.Y36(f.SH),t.Y36(f.X1))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-branch-show"]],decls:24,vars:5,consts:[["name","arrow-back-outline",3,"click"],["no-padding",""],["has-header","","has-footer",""],[2,"max-width","37% !important","font-size","12px"],[2,"bottom","1%","top","1%","height","100% !important"],["style","height: 7vh;",3,"ngClass",4,"ngFor","ngForOf"],[2,"max-width","63% !important","border-left","1px solid #eee !important","font-size","12px"],[3,"ionInput"],["style","overflow: auto;\n  height: 100vh;",4,"ngIf"],["style","overflow: auto;\nheight: 100vh;",4,"ngIf"],[2,"height","45px"],["col-6","",2,"text-align","center","margin-top","6px","border-right","2px solid #eee",3,"click"],["col-6","",2,"text-align","center","margin-top","6px",3,"click"],[2,"height","7vh",3,"ngClass"],[2,"margin-top","6px",3,"click"],[2,"overflow","auto","height","100vh"],["style","height: 7vh;    border-bottom: 1px solid #eee;",3,"ngClass",4,"ngFor","ngForOf"],[2,"height","7vh","border-bottom","1px solid #eee",3,"ngClass"],[2,"margin-top","6px"],[2,"display","flex"],[3,"ngModel","ngModelChange","ionChange"],[2,"margin-top","2px","margin-left","5px"],[3,"ngModel","ngModelChange"],["style","height: 7vh; border-bottom: 1px solid #eee;",3,"ngClass",4,"ngFor","ngForOf"],["style","height: 7vh; border-bottom: 1px solid #eee;",4,"ngFor","ngForOf"],[2,"height","7vh","border-bottom","1px solid #eee"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"ion-icon",0),t.NdJ("click",function(){return e.dismiss()}),t.qZA(),t.TgZ(4,"span"),t._uU(5," Choose Branch "),t.qZA()()()(),t.TgZ(6,"ion-content",1)(7,"ion-grid",2)(8,"ion-row")(9,"ion-col",3)(10,"div",4),t.YNc(11,x,4,2,"ion-row",5),t.qZA()(),t.TgZ(12,"ion-col",6)(13,"ion-searchbar",7),t.NdJ("ionInput",function(i){return e.getCus(i)}),t.qZA(),t.YNc(14,M,2,1,"div",8)(15,E,2,1,"div",9)(16,Z,2,1,"div",9)(17,y,2,1,"div",9),t.qZA()()()(),t.TgZ(18,"ion-footer")(19,"ion-row",10)(20,"ion-col",11),t.NdJ("click",function(){return e.clear()}),t._uU(21," Reset"),t.qZA(),t.TgZ(22,"ion-col",12),t.NdJ("click",function(){return e.selected()}),t._uU(23," Apply"),t.qZA()()()),2&n&&(t.xp6(11),t.Q6J("ngForOf",e.category),t.xp6(3),t.Q6J("ngIf",e.branch_show&&!e.month_wise),t.xp6(),t.Q6J("ngIf",e.branch_show&&e.month_wise),t.xp6(),t.Q6J("ngIf",e.metal_show&&23!==e.fin.temp),t.xp6(),t.Q6J("ngIf",e.metal_show&&23===e.fin.temp))},dependencies:[d.mk,d.sg,d.O5,h.nz,h.wI,h.W2,h.fr,h.jY,h.Gu,h.gu,h.Q$,h.Nd,h.VI,h.wd,h.sr,h.w,h.j9,u.JJ,u.On],styles:["ion-item[_ngcontent-%COMP%], .scroll-content[_ngcontent-%COMP%]{padding:0!important;font-size:12px!important}ion-label[_ngcontent-%COMP%]{margin:2px!important}ion-checkbox[_ngcontent-%COMP%]{margin:2px!important}.one[_ngcontent-%COMP%]{background:#d3d3d3!important}.two[_ngcontent-%COMP%]{background:none!important}.label-md[_ngcontent-%COMP%]{font-weight:700!important}[has-header][_ngcontent-%COMP%]   .scroll-content[_ngcontent-%COMP%]{top:0!important}.range-md[_ngcontent-%COMP%]   .range-bar-active[_ngcontent-%COMP%]{background:maroon!important}.range-md[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{margin-left:8px!important;margin-right:8px!important}.range-md[_ngcontent-%COMP%]{padding-top:0!important}.dis[_ngcontent-%COMP%]{display:none!important}.nodis[_ngcontent-%COMP%]{display:flex!important}ion-checkbox[_ngcontent-%COMP%]{--size: 14px !important}ion-checkbox[_ngcontent-%COMP%]::part(container){border:2px solid gray}"]}),c})()}}]);